{
  if (cgroup.isRoot()) {
    LOG.error("You can't create rootCgroup in this function");
    return;
  }
  CgroupCommon parent=cgroup.getParent();
  while (parent != null) {
    if (!CgroupUtils.dirExists(parent.getDir())) {
      LOG.error(" {} is not existed",parent.getDir());
      return;
    }
    parent=parent.getParent();
  }
  Hierarchy h=cgroup.getHierarchy();
  if (mounted(h) == null) {
    LOG.error("{} is not mounted",h.getDir());
    return;
  }
  if (CgroupUtils.dirExists(cgroup.getDir())) {
    LOG.error("{} is existed",cgroup.getDir());
    return;
  }
  if (!(new File(cgroup.getDir())).mkdir()) {
    LOG.error("Could not create cgroup dir at {}",cgroup.getDir());
  }
}
