{
  String host="localhost";
  int port=9092;
  int partition=0;
  addPartition(partition,host,port);
  GlobalPartitionInformation brokerInfo=dynamicBrokersReader.getBrokerInfo();
  assertEquals(port,brokerInfo.getHostFor(partition).port);
  assertEquals(host,brokerInfo.getHostFor(partition).host);
  String newHost=host + "switch";
  int newPort=port + 1;
  addPartition(partition,newHost,newPort);
  brokerInfo=dynamicBrokersReader.getBrokerInfo();
  assertEquals(newPort,brokerInfo.getHostFor(partition).port);
  assertEquals(newHost,brokerInfo.getHostFor(partition).host);
}
