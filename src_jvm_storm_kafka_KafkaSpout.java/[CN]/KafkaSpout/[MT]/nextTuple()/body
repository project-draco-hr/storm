{
  for (int i=0; i < _managedPartitions.size(); i++) {
    int partition=_managedPartitions.get(_currPartitionIndex);
    _currPartitionIndex=(_currPartitionIndex + 1) % _managedPartitions.size();
    EmitState state=_managers.get(partition).next();
    if (state != EmitState.EMITTED_MORE_LEFT) {
      _currPartitionIndex=(_currPartitionIndex + 1) % _managedPartitions.size();
    }
    if (state != EmitState.NO_EMITTED) {
      break;
    }
  }
  long now=System.currentTimeMillis();
  if ((now - _lastUpdateMs) > _spoutConfig.stateUpdateIntervalMs) {
    commit();
  }
}
