{
  try {
    if (this.sender == null) {
      this.ensureSenderCreated();
    }
    Binary bin=new Binary(data);
    Message message=new Message(new Data(bin));
    this.sender.send(message);
  }
 catch (  LinkDetachedException e) {
    logger.error(e.getMessage());
    EventHubException eventHubException=new EventHubException("Sender has been closed");
    throw eventHubException;
  }
catch (  TimeoutException e) {
    logger.error(e.getMessage());
    EventHubException eventHubException=new EventHubException("Timed out while waiting to get credit to send");
    throw eventHubException;
  }
catch (  Exception e) {
    logger.error(e.getMessage());
  }
}
