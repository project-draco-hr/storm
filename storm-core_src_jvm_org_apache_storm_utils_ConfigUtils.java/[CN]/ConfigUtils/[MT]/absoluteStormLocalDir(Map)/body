{
  LOG.info("zliu conf map is " + conf);
  String stormHome=System.getProperty("storm.home");
  LOG.info("zliu stormhome is " + stormHome);
  String localDir=(String)conf.get(Config.STORM_LOCAL_DIR);
  if (localDir == null) {
    return (stormHome + FILE_SEPARATOR + "storm-local");
  }
 else {
    LOG.info("zliu java local dir is " + localDir + ", isAbsolute:"+ (new File(localDir).isAbsolute()));
    if (new File(localDir).isAbsolute()) {
      return localDir;
    }
 else {
      return (stormHome + FILE_SEPARATOR + localDir);
    }
  }
}
