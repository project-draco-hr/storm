{
  try {
    Enumeration resources=Thread.currentThread().getContextClassLoader().getResources(name);
    if (!resources.hasMoreElements()) {
      if (mustExist)       throw new RuntimeException("Could not find config file on classpath " + name);
 else       return new HashMap();
    }
    URL resource=(URL)resources.nextElement();
    Yaml yaml=new Yaml();
    Map ret=(Map)yaml.load(new InputStreamReader(resource.openStream()));
    if (ret == null)     ret=new HashMap();
    if (resources.hasMoreElements()) {
      throw new RuntimeException("Found multiple " + name + " resources");
    }
    return new HashMap(ret);
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
}
