{
  if (channelRef.get() != null)   channelRef.get().close().awaitUninterruptibly();
  final Timer timer=new Timer();
  timer.schedule(new TimerTask(){
    @Override public void run(){
      LOG.debug("client resource released");
      factory.releaseExternalResources();
      timer.cancel();
    }
  }
,0);
}
