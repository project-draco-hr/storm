{
  LOG.info("attempting to make space for topo {} from user {}",td.getName(),td.getTopologySubmitter());
  User submitter=this.userMap.get(td.getTopologySubmitter());
  if (submitter.getCPUResourceGuaranteed() == null || submitter.getMemoryResourceGuaranteed() == null) {
    return false;
  }
  double cpuNeeded=td.getTotalRequestedCpu() / submitter.getCPUResourceGuaranteed();
  double memoryNeeded=(td.getTotalRequestedMemOffHeap() + td.getTotalRequestedMemOnHeap()) / submitter.getMemoryResourceGuaranteed();
  if ((1.0 - submitter.getCPUResourcePoolUtilization()) >= cpuNeeded && (1.0 - submitter.getMemoryResourcePoolUtilization()) >= memoryNeeded) {
    User evictUser=this.findUserWithMostResourcesAboveGuarantee();
    if (evictUser == null) {
      LOG.info("Cannot make space for topology {} from user {}",td.getName(),submitter.getId());
      submitter.moveTopoFromPendingToAttempted(td,this.cluster);
      return false;
    }
    TopologyDetails topologyEvict=evictUser.getRunningTopologyWithLowestPriority();
    LOG.info("topology to evict: {}",topologyEvict);
    evictTopology(topologyEvict);
    LOG.info("Resources After eviction:\n{}",this.nodes);
    return true;
  }
 else {
    if ((1.0 - submitter.getCPUResourcePoolUtilization()) < cpuNeeded) {
    }
    if ((1.0 - submitter.getMemoryResourcePoolUtilization()) < memoryNeeded) {
    }
    return false;
  }
}
