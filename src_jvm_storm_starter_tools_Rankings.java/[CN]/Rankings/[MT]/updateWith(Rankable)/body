{
synchronized (rankedItems) {
    addOrReplace(r);
    rerank();
    shrinkRankingsIfNeeded();
  }
}
