{
  if (keys.size() == 0) {
    return;
  }
  if (Strings.isNullOrEmpty(this.options.hkey)) {
    Jedis jedis=null;
    try {
      jedis=jedisPool.getResource();
      String[] keyValue=buildKeyValuesList(keys,vals);
      jedis.mset(keyValue);
    }
  finally {
      if (jedis != null) {
        jedisPool.returnResource(jedis);
      }
    }
  }
 else {
    Jedis jedis=jedisPool.getResource();
    try {
      Pipeline pl=jedis.pipelined();
      pl.multi();
      for (int i=0; i < keys.size(); i++) {
        String val=new String(serializer.serialize(vals.get(i)));
        pl.hset(this.options.hkey,keyFactory.build(keys.get(i)),val);
      }
      pl.exec();
      pl.sync();
    }
  finally {
      jedisPool.returnResource(jedis);
    }
  }
}
