{
  if (keys.size() == 0) {
    return Collections.emptyList();
  }
  if (Strings.isNullOrEmpty(this.options.hkey)) {
    String[] stringKeys=buildKeys(keys);
    List<String> values=Lists.newArrayList();
    JedisCommands jedisCommands=null;
    try {
      jedisCommands=container.getInstance();
      if (jedisCommands instanceof Jedis) {
        values=((Jedis)jedisCommands).mget(stringKeys);
      }
 else {
        for (        String stringKey : stringKeys) {
          String value=jedisCommands.get(stringKey);
          values.add(value);
        }
      }
    }
  finally {
      if (jedisCommands != null) {
        container.returnInstance(jedisCommands);
      }
    }
    return deserializeValues(keys,values);
  }
 else {
    JedisCommands jedisCommands=null;
    try {
      jedisCommands=container.getInstance();
      Map<String,String> keyValue=jedisCommands.hgetAll(this.options.hkey);
      List<String> values=buildValuesFromMap(keys,keyValue);
      return deserializeValues(keys,values);
    }
  finally {
      if (jedisCommands != null) {
        container.returnInstance(jedisCommands);
      }
    }
  }
}
