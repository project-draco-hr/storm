{
  StringBuilder line=new StringBuilder();
  while (true) {
    String subline=processOut.readLine();
    if (subline == null)     throw new RuntimeException("Pipe to subprocess seems to be broken! Currently read output: " + line.toString());
    if (subline.equals("end")) {
      break;
    }
    if (line.length() != 0) {
      line.append("\n");
    }
    line.append(subline);
  }
  return line.toString();
}
