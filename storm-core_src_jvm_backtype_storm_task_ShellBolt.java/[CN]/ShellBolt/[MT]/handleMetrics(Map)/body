{
  Object nameObj=action.get("name");
  if (nameObj == null || !(nameObj instanceof String)) {
    throw new RuntimeException("Receive Metrics name is null or is not String");
  }
  String name=(String)nameObj;
  if (name.isEmpty()) {
    throw new RuntimeException("Receive Metrics name is empty");
  }
  IMetric iMetric=_context.getRegisteredMetricByName(name);
  if (iMetric == null) {
    throw new RuntimeException("Not find metric by name[" + name + "] ");
  }
  if (!(iMetric instanceof IShellMetric)) {
    throw new RuntimeException("Metric[" + name + "] is not IShellMetric, can not call by RPC");
  }
  IShellMetric iShellMetric=(IShellMetric)iMetric;
  Object paramsObj=action.get("params");
  try {
    iShellMetric.updateMetricFromRPC(paramsObj);
  }
 catch (  RuntimeException re) {
    throw re;
  }
catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
