{
  Object nameObj=action.get("name");
  if (!(nameObj instanceof String)) {
    throw new RuntimeException("Receive Metrics name is not String");
  }
  String name=(String)nameObj;
  if (name == null || name.isEmpty()) {
    throw new RuntimeException("Receive Metrics name is NULL");
  }
  if (!_registeredShellMetrics.containsKey(name)) {
    throw new RuntimeException("Receive Metrics name:" + name + " does not reigster.");
  }
  IShellMetric iMetric=_registeredShellMetrics.get(name);
  Object paramsObj=action.get("params");
  Class<? extends IShellMetric> oriClass=iMetric.getClass();
  Method method=null;
  try {
    method=oriClass.getMethod(IShellMetric.SHELL_METRICS_UPDATE_METHOD_NAME,new Class[]{Object.class});
  }
 catch (  SecurityException e) {
    LOG.error("handleMetrics get method [" + name + "] SecurityException");
    throw new RuntimeException(e);
  }
catch (  NoSuchMethodException e) {
    LOG.error("handleMetrics get method [" + name + "] NoSuchMethodException");
    throw new RuntimeException(e);
  }
  try {
    method.invoke(iMetric,paramsObj);
  }
 catch (  IllegalArgumentException e) {
    LOG.error("handleMetrics invoke[" + name + "] IllegalArgumentException");
    throw new RuntimeException(e);
  }
catch (  IllegalAccessException e) {
    LOG.error("handleMetrics invoke[" + name + "] IllegalAccessException");
    throw new RuntimeException(e);
  }
catch (  InvocationTargetException e) {
    LOG.error("handleMetrics invoke[" + name + "] InvocationTargetException");
    throw new RuntimeException(e);
  }
}
