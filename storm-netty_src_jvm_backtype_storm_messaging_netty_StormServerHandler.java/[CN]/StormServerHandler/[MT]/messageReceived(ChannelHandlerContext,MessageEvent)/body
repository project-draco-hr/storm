{
  TaskMessage message=(TaskMessage)e.getMessage();
  if (message == null)   return;
  if (message.task() == Util.EOB) {
    Channel channel=ctx.getChannel();
    LOG.debug("Sendback response ...");
    if (failure_count.get() == 0)     channel.write(Util.OK_RESPONSE);
 else     channel.write(Util.FAILURE_RESPONSE);
    return;
  }
  try {
    server.enqueue(message);
  }
 catch (  InterruptedException e1) {
    LOG.info("failed to enqueue a request message",e);
    failure_count.incrementAndGet();
  }
}
