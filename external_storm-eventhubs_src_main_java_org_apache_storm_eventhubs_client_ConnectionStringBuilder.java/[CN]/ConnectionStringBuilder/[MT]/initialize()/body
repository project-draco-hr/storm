{
  URL url;
  try {
    url=new URL(null,this.connectionString,new NullURLStreamHandler());
  }
 catch (  MalformedURLException e) {
    throw new EventHubException("connectionString is not valid.",e);
  }
  String protocol=url.getProtocol();
  this.ssl=protocol.equalsIgnoreCase(Constants.SslScheme);
  this.host=url.getHost();
  this.port=url.getPort();
  if (this.port == -1) {
    this.port=this.ssl ? Constants.DefaultSslPort : Constants.DefaultPort;
  }
  String userInfo=url.getUserInfo();
  if (userInfo != null) {
    String[] credentials=userInfo.split(":",2);
    this.userName=URLDecoder.decode(credentials[0]);
    this.password=URLDecoder.decode(credentials[1]);
  }
}
