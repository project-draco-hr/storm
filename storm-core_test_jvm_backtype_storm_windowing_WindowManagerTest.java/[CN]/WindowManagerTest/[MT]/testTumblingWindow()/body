{
  windowManager.setWindowLength(new Count(3));
  windowManager.setSlidingInterval(new Count(3));
  windowManager.add(1);
  windowManager.add(2);
  assertTrue(listener.onExpiryEvents.isEmpty());
  windowManager.add(3);
  assertTrue(listener.onExpiryEvents.isEmpty());
  assertEquals(seq(1,3),listener.onActivationEvents);
  assertTrue(listener.onActivationExpiredEvents.isEmpty());
  assertEquals(seq(1,3),listener.onActivationNewEvents);
  listener.clear();
  windowManager.add(4);
  windowManager.add(5);
  windowManager.add(6);
  assertEquals(seq(1,3),listener.onExpiryEvents);
  assertEquals(seq(4,6),listener.onActivationEvents);
  assertEquals(seq(1,3),listener.onActivationExpiredEvents);
  assertEquals(seq(4,6),listener.onActivationNewEvents);
}
