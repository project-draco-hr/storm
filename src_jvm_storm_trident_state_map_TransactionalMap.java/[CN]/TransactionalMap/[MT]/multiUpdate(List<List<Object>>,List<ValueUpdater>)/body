{
  List<TransactionalValue<T>> curr=_backing.multiGet(keys);
  List<TransactionalValue<T>> newVals=new ArrayList<TransactionalValue<T>>(curr.size());
  List<T> ret=new ArrayList<T>();
  for (int i=0; i < curr.size(); i++) {
    TransactionalValue<T> val=curr.get(i);
    ValueUpdater<T> updater=updaters.get(i);
    TransactionalValue<T> newVal;
    if (val == null) {
      newVal=new TransactionalValue<T>(_currTx,updater.update(null));
    }
 else {
      if (_currTx != null && _currTx.equals(val.getTxid())) {
        newVal=val;
      }
 else {
        newVal=new TransactionalValue<T>(_currTx,updater.update(val.getVal()));
      }
    }
    ret.add(newVal.getVal());
    newVals.add(newVal);
  }
  _backing.multiPut(keys,newVals);
  return ret;
}
