def shell(resourcesdir, command, *args):
    tmpjarpath = (('stormshell' + str(random.randint(0, 10000000))) + '.jar')
    os.system(('jar cf %s %s' % (tmpjarpath, resourcesdir)))
    runnerargs = [tmpjarpath, command]
    runnerargs.extend(args)
    exec_storm_class('backtype.storm.command.shell_submission', args=runnerargs, jvmtype='-client', extrajars=[USER_CONF_DIR], fork=True)
    os.system(('rm ' + tmpjarpath))
