{
  Thread[] producerThreads=new Thread[PRODUCER_NUM];
  for (int i=0; i < PRODUCER_NUM; i++) {
    producerThreads[i]=new Thread(producer);
    producerThreads[i].start();
  }
  Thread consumerThread=new Thread(consumer);
  consumerThread.start();
  for (int i=0; i < PRODUCER_NUM; i++) {
    producerThreads[i].interrupt();
    producerThreads[i].join(TIMEOUT);
  }
  consumerThread.interrupt();
  consumerThread.join(TIMEOUT);
}
