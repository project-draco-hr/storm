{
  Class clazz=Class.forName("org.apache.storm.flux.FrankenBean");
  HashMap<String,Object> props=new HashMap<String,Object>();
  props.put("publicString","foo");
  props.put("privateString","bar");
  props.put("privateBoolean",true);
  props.put("publicBoolean",true);
  props.put("notgonnafindit","foobar");
  Object instance=clazz.newInstance();
  for (  String key : props.keySet()) {
    Method setter=findSetter(clazz,key,props.get(key));
    if (setter != null) {
      setter.invoke(instance,new Object[]{props.get(key)});
    }
 else {
      Field field=findPublicField(clazz,key,props.get(key));
      if (field != null) {
        field.set(instance,props.get(key));
      }
    }
  }
  LOG.info("Bean: {}",instance);
}
