{
  ByteArrayOutputStream buff=new ByteArrayOutputStream();
  for (int i=0; i < len; i++) {
    byte[] mapped=ESCAPE_MAP.get(b[i + off]);
    if (mapped == null) {
      buff.write(b[i + off]);
    }
 else {
      buff.write(mapped);
    }
  }
  out.write(buff.toByteArray());
}
