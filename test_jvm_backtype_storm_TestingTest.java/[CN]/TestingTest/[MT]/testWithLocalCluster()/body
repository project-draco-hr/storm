{
  MkClusterParam mkClusterParam=new MkClusterParam();
  mkClusterParam.setSupervisors(2);
  mkClusterParam.setPortsPerSupervisor(5);
  Config daemonConf=new Config();
  daemonConf.put(Config.SUPERVISOR_ENABLE,false);
  daemonConf.put(Config.TOPOLOGY_ACKER_EXECUTORS,0);
  Testing.withLocalCluster(mkClusterParam,new TestJob(){
    @Override public void run(    Cluster cluster){
      assertNotNull(cluster.getNimbus());
      assertNotNull(cluster.getClusterState());
    }
  }
);
}
