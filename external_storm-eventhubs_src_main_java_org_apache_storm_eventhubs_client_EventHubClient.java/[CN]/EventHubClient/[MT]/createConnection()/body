{
  ConnectionStringBuilder connectionStringBuilder=new ConnectionStringBuilder(this.connectionString);
  Connection clientConnection;
  try {
    clientConnection=new Connection(connectionStringBuilder.getHost(),connectionStringBuilder.getPort(),connectionStringBuilder.getUserName(),connectionStringBuilder.getPassword(),connectionStringBuilder.getHost(),connectionStringBuilder.getSsl());
  }
 catch (  ConnectionException e) {
    logger.error(e.toString());
    throw new EventHubException(e);
  }
  clientConnection.getEndpoint().setSyncTimeout(ConnectionSyncTimeout);
  SelectorFilterWriter.register(clientConnection.getEndpoint().getDescribedTypeRegistry());
  return clientConnection;
}
