{
  Map ret=new HashMap();
  String commandOptions=System.getProperty("storm.options");
  if (commandOptions != null) {
    commandOptions=commandOptions.replaceAll("%%%%"," ");
    String[] configs=commandOptions.split(",");
    for (    String config : configs) {
      String[] options=config.split("=");
      if (options.length == 2) {
        Object confValue=options[1];
        if (NumberUtils.isNumber(options[1])) {
          confValue=NumberUtils.createNumber(String.valueOf(confValue));
        }
        ret.put(options[0],confValue);
      }
    }
  }
  return ret;
}
